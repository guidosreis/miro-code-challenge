!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).EmailsInput=t()}(this,function(){"use strict";function t(t,e){var n,a=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,n)),a}function p(a){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?t(Object(o),!0).forEach(function(e){var t,n;t=a,e=o[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(o,e))})}return a}return function(e,t){if("DIV"===e.tagName){var n={placeholder:"add..."},a={wrapperClassname:"emails-block",inputClassname:"emails-input",emailBlockClassname:"email-block",emailBlockTextClassname:"email-block__text",emailBlockButtonClassname:"email-block__remove-button"};return a.element=e,a.settings=p(p({},n),t),a.element.insertAdjacentHTML("beforeend",'\n      <div class="'.concat(a.wrapperClassname,'">\n        <input class="').concat(a.inputClassname,'" placeholder="').concat(a.settings.placeholder,'" />\n      </div>\n    ')),a.emails=[],m("focusout",f(".".concat(a.inputClassname),o),a.element),m("keypress",f(".".concat(a.inputClassname),l),a.element),m("keyup",f(".".concat(a.inputClassname),c),a.element),m("click",f(".".concat(a.emailBlockButtonClassname),i),a.element),p(p({},a),{},{add:function e(){var t,n;s((n=["smith","johnson","williams","brown","jones"],t=(t=["liam","noah","oliver","william","lucas","olivia","emma","sophia","isabella","charlotte"])[r(0,t.length)],n=n[r(0,n.length)],"".concat(t,".").concat(n,"@miro.com")))||e()},getCount:function(){var e=a.emails.reduce(function(e,t){return u(t)?e+1:e},0);window.alert("Valid emails count: ".concat(e))}})}function o(e){var t=e.target,e=t.value;e&&(s(e),t.value="")}function l(e){13===e.which&&e.preventDefault()}function c(e){var t=e.target,n=e.which,a=t.value,e=a.split(",");if(","!==a)return 13===n&&a?(s(a),void(t.value="")):void(e.length<2||(e.forEach(function(e){e&&s(e.trim())}),t.value=""));t.value=""}function i(e){var t=e.target.closest(".".concat(a.emailBlockClassname)),e=t.querySelector(".".concat(a.emailBlockTextClassname)).innerText,e=a.emails.indexOf(e);t.parentNode.removeChild(t),0<=e&&a.emails.splice(e,1)}function s(e){if(!(0<=a.emails.indexOf(e))){var t,n,t=(n=u(t=e)?"".concat(a.emailBlockClassname,"--valid"):"".concat(a.emailBlockClassname,"--invalid"),'\n      <div class="'.concat(a.emailBlockClassname," ").concat(n,'">\n        <span class="').concat(a.emailBlockTextClassname,'">').concat(t,'</span>\n        <button type="button" class="').concat(a.emailBlockButtonClassname,'">&times</button>\n      </div>\n    '));return a.emails.push(e),document.querySelector(".".concat(a.inputClassname)).insertAdjacentHTML("beforebegin",t),1}}function r(e,t){return Math.floor(Math.random()*(t-e))+e}function u(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}function m(e,t,n){(2<arguments.length&&void 0!==n?n:document).addEventListener(e,t)}function f(t,n){return function(e){e.target.closest(t)&&e.target.matches(t)&&n(e)}}}});
