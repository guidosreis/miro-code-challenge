!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e="undefined"!=typeof globalThis?globalThis:e||self).EmailsInput=n()}(this,function(){"use strict";function n(n,e){var t,a=Object.keys(n);return Object.getOwnPropertySymbols&&(t=Object.getOwnPropertySymbols(n),e&&(t=t.filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),a.push.apply(a,t)),a}function p(a){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?n(Object(o),!0).forEach(function(e){var n,t;n=a,e=o[t=e],t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(o)):n(Object(o)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(o,e))})}return a}return function(e,n){if("DIV"===e.tagName){var t={placeholder:"add..."},a={wrapperClassname:"emails-block",inputClassname:"emails-input",emailBlockClassname:"email-block",emailBlockTextClassname:"email-block__text",emailBlockButtonClassname:"email-block__remove-button"};return a.element=e,a.settings=p(p({},t),n),a.element.insertAdjacentHTML("beforeend",'\n      <div class="'.concat(a.wrapperClassname,'"></div>\n      <input class="').concat(a.inputClassname,'" placeholder="').concat(a.settings.placeholder,'" />\n    ')),a.emails=[],m("focusout",f(".".concat(a.inputClassname),o),a.element),m("keypress",f(".".concat(a.inputClassname),l),a.element),m("keyup",f(".".concat(a.inputClassname),c),a.element),m("click",f(".".concat(a.emailBlockButtonClassname),i),a.element),p(p({},a),{},{add:function e(){var n,t;r((t=["smith","johnson","williams","brown","jones"],n=(n=["liam","noah","oliver","william","lucas","olivia","emma","sophia","isabella","charlotte"])[s(0,n.length)],t=t[s(0,t.length)],"".concat(n,".").concat(t,"@miro.com")))||e()},getCount:function(){var e=a.emails.reduce(function(e,n){return u(n)?e+1:e},0);window.alert("Valid emails count: ".concat(e))}})}function o(e){var n=e.target,e=n.value;e&&(r(e),n.value="")}function l(e){13===e.which&&e.preventDefault()}function c(e){var n=e.target,t=e.which,a=n.value,e=a.split(",");if(","!==a)return 13===t&&a?(r(a),void(n.value="")):void(e.length<2||(e.forEach(function(e){e&&r(e.trim())}),n.value=""));n.value=""}function i(e){var n=e.target.closest(".".concat(a.emailBlockClassname)),e=n.querySelector(".".concat(a.emailBlockTextClassname)).innerText,e=a.emails.indexOf(e);n.parent.removeChild(n),0<=e&&a.emails.splice(e,1)}function r(e){if(!(0<=a.emails.indexOf(e))){var n,t,n=(t=u(n=e)?"".concat(a.emailBlockClassname,"--valid"):"".concat(a.emailBlockClassname,"--invalid"),'\n      <div class="'.concat(a.emailBlockClassname," ").concat(t,'">\n        <span class="').concat(a.emailBlockTextClassname,'">').concat(n,'</span>\n        <button class="').concat(a.emailBlockButtonClassname,'">x</button>\n      </div>\n    '));return a.emails.push(e),document.querySelector(".".concat(a.wrapperClassname)).insertAdjacentHTML("beforeend",n),1}}function s(e,n){return Math.floor(Math.random()*(n-e))+e}function u(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}function m(e,n,t){(2<arguments.length&&void 0!==t?t:document).addEventListener(e,n)}function f(n,t){return function(e){e.target.closest(n)&&e.target.matches(n)&&t(e)}}}});
